<template>
    <template is="dom-bind">
        <div class="chatter-message-draft">
            <div class="chatter-message-draft__container panel panel-default">
                <div class="panel-body" on-chattersendmessage="onChatterSendMessage">
                    <starcounter-include partial="{{model.Draft}}"></starcounter-include>
                    <starcounter-include partial="{{model.Warning}}"></starcounter-include>
                </div>
            </div>
            <div class="chatter-message-draft__add-button">
                <button type="button" class="btn btn-small btn-success aplication-add-button" onmousedown="++this.value" value="{{model.Send$::click}}">Send</button>
            </div>
        </div>
    </template>
    <script>
        (function () {
            var script = document._currentScript || document.currentScript;
            var template = script.previousElementSibling;

            template.onChatterSendMessage = function (e) {
                template.set("model.Send$", template.model.Send$ + 1);
            };
        })();
    </script>
</template>