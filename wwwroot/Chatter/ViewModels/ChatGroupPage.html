<link href="/Chatter/css/chatter.css" rel="stylesheet" />

<template>
    <template is="dom-bind">
        <h2 class="chatter-group-subheading" slot="Chatter/header">{{model.Name}}</h2>
        <a href="/chatter" class="btn btn-default btn-sm" slot="Chatter/back">Go back</a>
        <div class="chatter-group-user" slot="Chatter/user">
            <template is="dom-if" if="{{model.UserKey}}">
                Signed in as
                <b>{{model.UserName$}}</b>
            </template>
            <template is="dom-if" if="{{!model.UserKey}}">
                You are not signed in, you messages will be send anonymously
            </template>
        </div>
        <div class="chatter-group-messages" slot="Chatter/messages">
            <template is="dom-repeat" items="{{model.ChatMessagePages}}">
                <starcounter-include partial="{{item}}"></starcounter-include>
            </template>
        </div>
        <button class="btn btn-default chatter-group-attachment-button" onclick="growDiv()" slot="Chatter/attachment-button">Add attachment <span class="caret" /></button>
        <div id='expandablePanel' class="chatter-group-expandable-panel panel panel-default" slot="Chatter/draft-message">
            <div class='panel-body'>
                <starcounter-include partial="{{model.ChatMessageDraft}}"></starcounter-include>
            </div>
        </div>
    </template>

    <template is="starcounter-composition">
        <style>
            @import url("/Chatter/css/chatter.css");
        </style>

        <content select="[slot='Chatter/header']"></content>
        <content select="[slot='Chatter/back']"></content>
        <content select="[slot='Chatter/user']"></content>
        <content select="[slot='Chatter/messages']"></content>
        <div>
            <content select="[slot='Chatter/attachment-button']"></content>

            <content select="[slot='Chatter/draft-message']"></content>
        </div>
    </template>
    <script src="/Chatter/js/ChatterHandlers.js"></script>
</template>
