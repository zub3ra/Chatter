<link href="/Chatter/css/chatter.css" rel="stylesheet" />

<template>
    <template is="dom-bind" class="chatter-group">
        <h2 class="chatter-group__heading-two">{{model.Name}}</h2>
        <div class="chatter-group__group-back-button">
            <a href="/chatter" class="btn btn-default btn-sm">Go back</a>
        </div>
        <div class="chatter-group__user">
            <template is="dom-if" if="{{model.UserKey}}">
                Signed in as
                <b>{{model.UserName$}}</b>
            </template>
            <template is="dom-if" if="{{!model.UserKey}}">
                You are not signed in, you messages will be send anonymously
            </template>
        </div>
        <div class="chatter-group__messages">
            <template is="dom-repeat" items="{{model.ChatMessagePages}}">
                <starcounter-include partial="{{item}}"></starcounter-include>
            </template>
        </div>
        <div>
            <button class="btn btn-default chatter-group__attachment-button" onclick="growDiv()">Add attachment <span class="caret" /></button>
            <div id='expandablePanel' class="chatter-group__expandable-panel panel panel-default">
                <div class='panel-body'>
                    <starcounter-include partial="{{model.ChatMessageTextDraft}}"></starcounter-include>
                    <starcounter-include partial="{{model.ChatMessageDraft}}"></starcounter-include>
                </div>
            </div>
        </div>
    </template>
    <script src="/Chatter/js/ChatterHandlers.js"></script>
</template>
